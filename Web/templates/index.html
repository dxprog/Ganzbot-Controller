<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>
		Ganzbot Message Queue
	</title>
	<link type="text/css" rel="stylesheet" href="/stylesheets/main.css" />
	<script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
	<script src="/javascripts/jquery-ui-1.7.2.custom.min.js" type="text/javascript"></script>
	<script src="/javascripts/main.js" type="text/javascript"></script>
</head>

<body>

<h2>Ganzbot Message Queue</h2>

{% if history.@count == 0 %}
	<em>( The queue is empty )</em>
{% else %}
	<p>Messages that have not been spoken yet:</p>
	<ol>
	{% for message in queue %}
		<li>
			"{{ message.text }}"
			<em>{{ message.created_on |  date_format: "MM/dd HH:mm" }}</em>
		</li>
	{% /for %}
	</ol>
{% /if %}

<h2>Add</h2>
<p>
	Enter a message to the queue for Ganzbot to read.
</p>
<form action="/add.awesome" method="post">
  <p class="message">
  	<input type="text" size="60" name="text" id="message-field" />
  </p>
  <p>
    <button type="submit">Speak</button>
  </p>
  <fieldset>
    <legend>Options</legend>
    <ol>
      <li>
        <label for="options_voice">Voice</label>
        <select name="voice">
        	<option value="">Normal</option>
        	<option value="whisper">Whisper</option>
        	<option value="cellos">Singing</option>
        	<option value="hysterical">Hysterical</option>
        	<option value="junior">Childish</option>
        	<option value="vicki">Feminine</option>
        	<option value="fred">Robot</option>
        	<option value="trinoids">SciFi</option>
        </select>
      </li>
      <li>
        <label for="options_rate">Rate</label>
        <select name="rate">
        	<option value="">Normal</option>
        	<option value="75">Drunk</option>
        	<option value="400">Caffeinated</option>
		</select>
      </li>
    </ol>
  </fieldset>
</form>
<script type="text/javascript">
  (function(){
    var field = document.getElementById("messages_text");
    if(field){
      field.focus();
    }
  })();
</script>



<h2>Recent</h2>
<ol class="history">
	{% for message in history %}
		<li>
			"<span>{{ message.text }}</span>"
			<em>{{ message.created_on |  date_format: "MM/dd HH:mm" }}</em>
		</li>
	{% /for %}
</ol>


</body>
</html>